contract Remote =
   function f : () =>  ()
        
contract MapTimes =

  record state = { map : map(int, int),
                   remote : Remote }

  public stateful function put_loop(n : int) =
    if (n==0)
       ()
    else
       state.map{ [n] = n }
       put_loop(n-1)

  function f_loop(n : int) =
    if (n==0)
       ()
    else
       state.remote.f()
       f_loop(n-1)
        
  function init(r) =
      { map = {}, remote = r }
